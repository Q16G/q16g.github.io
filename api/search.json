[{"id":"239654d5c9aacd2ba01291d95ccc8750","title":"c3p0链不出网新利用","content":"c3p0不出网新利用c3p0原理在readObject中调用了getObject\n原生的可以打JNDI，也可以走到下面ReferenceableUtils.referenceToObject函数中\n在这里可以打第二个链urlClassLoader，然后进行了factory的实例化，然后去调用了getObjectInstance方法\n不出网新利用由于链比较简单，所以就直接说不出网的新利用方式. 这里直接走到最后一个getObjectInstace.这里去找factory.getObjectInstace的实现，找到JavaBean工厂的实现。\n这里去看下getObjectInstance方法实现，代码比较通俗易懂，如果Map中有JavaBeanReferenceMaker.REF_PROPS_KEY的话，获取到value值，获取到Content bytes  然后进行反序列化。\n\n如果结合了其他依赖的话，也可以去打\n","slug":"c3p0不出网利用","date":"2024-11-30T15:36:35.000Z","categories_index":"","tags_index":"JAVA安全","author_index":"Q16G"}]